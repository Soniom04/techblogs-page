{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\Desktop\\\\Github\\\\techblogs-page\\\\src\\\\pages\\\\BlogPage.jsx\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { AppContext } from \"../context/AppContext\";\nimport { baseUrl } from \"../baseUrl\";\nimport Header from \"../components/Header\";\nimport Spinner from \"../components/Spinner\";\nimport BlogDetails from \"../components/BlogDetails\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BlogPage() {\n  _s();\n  const [blog, setBlog] = useState(null);\n  const [relatedBlogs, setRelatedBlogs] = useState([]);\n  const location = useLocation();\n  const blogId = location.pathname.split('/').at(-1);\n  const {\n    setLoading,\n    loading\n  } = useContext(AppContext);\n  const navigate = useNavigate();\n  async function fetchRelatedBlogs() {\n    setLoading(true);\n    let url = `${baseUrl}get-blog?blogId=${blogId}`;\n    console.log(url);\n    try {\n      const data = await fetch(url);\n      const output = await data.json();\n      console.log(output);\n      setBlog(output.blog);\n      setRelatedBlogs(output.relatedBlogs);\n    } catch {\n      console.log('Some Error Ocuured while fetching Data');\n      setBlog(null);\n      setRelatedBlogs([]);\n    }\n    setLoading(false);\n  }\n  useEffect(() => {\n    if (blogId) {\n      fetchRelatedBlogs();\n    }\n  }, [location.pathname]);\n  console.log(blog, relatedBlogs);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-[72px] flex flex-col mx-auto  mb-5 items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"border-2 py-[2px] px-[11px] mb-3\",\n        onClick: () => navigate(-1),\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 30\n      }, this) : blog ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(BlogDetails, {\n          post: blog\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center my-3 text-lg font-bold\",\n          children: \"Related Blogs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 33\n        }, this), relatedBlogs.map((blog, index) => /*#__PURE__*/_jsxDEV(BlogDetails, {\n          post: blog\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 41\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No Blogs Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(BlogPage, \"5VwaZjAyp6u+VhsIXO54la8Zm6k=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = BlogPage;\nvar _c;\n$RefreshReg$(_c, \"BlogPage\");","map":{"version":3,"names":["useContext","useEffect","useState","useLocation","useNavigate","AppContext","baseUrl","Header","Spinner","BlogDetails","jsxDEV","_jsxDEV","BlogPage","_s","blog","setBlog","relatedBlogs","setRelatedBlogs","location","blogId","pathname","split","at","setLoading","loading","navigate","fetchRelatedBlogs","url","console","log","data","fetch","output","json","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","post","map","index","_c","$RefreshReg$"],"sources":["C:/Users/Hp/Desktop/Github/techblogs-page/src/pages/BlogPage.jsx"],"sourcesContent":["import { useContext, useEffect ,useState} from \"react\"\r\nimport { useLocation, useNavigate} from \"react-router-dom\"\r\nimport { AppContext } from \"../context/AppContext\"\r\nimport { baseUrl } from \"../baseUrl\"\r\nimport Header from \"../components/Header\"\r\nimport Spinner from \"../components/Spinner\"\r\nimport BlogDetails from \"../components/BlogDetails\"\r\n\r\nexport default function BlogPage(){\r\n    const [blog,setBlog] = useState(null)\r\n    const [relatedBlogs,setRelatedBlogs] = useState([])\r\n    const location = useLocation()\r\n    const blogId = location.pathname.split('/').at(-1)\r\n    const {setLoading,loading} = useContext(AppContext)\r\n    const navigate = useNavigate()\r\n\r\n    async function fetchRelatedBlogs(){\r\n        setLoading(true)\r\n        let url = `${baseUrl}get-blog?blogId=${blogId}`\r\n        console.log(url)\r\n        try{\r\n            const data = await fetch(url)\r\n            const output = await data.json()\r\n            console.log(output)\r\n            setBlog(output.blog)\r\n            setRelatedBlogs(output.relatedBlogs)\r\n        }\r\n        catch{\r\n            console.log('Some Error Ocuured while fetching Data')\r\n            setBlog(null)\r\n            setRelatedBlogs([])\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(blogId){\r\n            fetchRelatedBlogs()\r\n        }\r\n    },[location.pathname])\r\n\r\n    console.log(blog,relatedBlogs)\r\n\r\n    return(\r\n        <div>\r\n             <Header/>\r\n             <div className=\"mt-[72px] flex flex-col mx-auto  mb-5 items-center\">\r\n                <button className=\"border-2 py-[2px] px-[11px] mb-3\" onClick={()=>navigate(-1)}>Back</button>\r\n                {\r\n                    loading?(<Spinner/>):(\r\n                        blog ? (\r\n                            <div>\r\n                                <BlogDetails post={blog}/>\r\n                                <h2 className=\"text-center my-3 text-lg font-bold\">Related Blogs</h2>\r\n                                {\r\n                                    relatedBlogs.map((blog,index) =>(\r\n                                        <BlogDetails key={index} post={blog}/>\r\n                                    ))\r\n                                }\r\n                            </div>\r\n                        )\r\n                        :(<div>No Blogs Found</div>)\r\n                    )\r\n                }\r\n             </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}